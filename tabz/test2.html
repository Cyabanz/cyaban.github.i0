<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fusion Tabs - Settings</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
      background: var(--bg, #0f0f0f);
      color: var(--fg, #ffffff);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      transition: background 0.3s ease, color 0.3s ease;
      background-image: 
        radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(120, 198, 255, 0.08) 0%, transparent 50%);
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 24px;
    }
    h1 {
      text-align: center;
      margin-bottom: 48px;
      font-size: 2.5rem;
      font-weight: 700;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, var(--fg, #ffffff) 0%, rgba(255,255,255,0.7) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .settings-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px;
      align-items: stretch;
    }
    .section {
      background: var(--section-bg, rgba(255, 255, 255, 0.05));
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 32px;
      border-radius: 20px;
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.05) inset;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    }
    .section:hover {
      transform: translateY(-4px);
      box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.4),
        0 0 0 1px rgba(255, 255, 255, 0.1) inset;
    }
    .section-title {
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--fg, #ffffff);
    }
    .section-desc {
      font-size: 0.95rem;
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: 24px;
      line-height: 1.5;
    }
    .setting-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
    }
    .setting-row:last-child { margin-bottom: 0; }
    .toggle-switch {
      position: relative;
      width: 54px;
      height: 30px;
      display: inline-block;
    }
    .toggle-switch input { opacity: 0; width: 0; height: 0; }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
      border-radius: 30px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 26px; width: 26px;
      left: 2px; bottom: 1px;
      background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
      transition: all 0.3s ease;
      border-radius: 50%;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
    input:checked + .slider {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-color: rgba(255, 255, 255, 0.3);
    }
    input:checked + .slider:before {
      transform: translateX(24px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    }
    .theme-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 24px;
    }
    .theme-btn {
      padding: 12px 16px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      cursor: pointer;
      background: rgba(255, 255, 255, 0.05);
      color: var(--fg, #ffffff);
      font-size: 0.95rem;
      font-weight: 500;
      transition: all 0.3s ease;
      outline: none;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }
    .theme-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.6s ease;
    }
    .theme-btn:hover::before { left: 100%; }
    .theme-btn:hover {
      transform: translateY(-2px);
      border-color: rgba(255, 255, 255, 0.2);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    }
    .theme-btn.selected {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-color: rgba(255, 255, 255, 0.3);
      color: #ffffff;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }
    .custom-theme-fields {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 24px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }
    .color-input-group {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .color-input-group label {
      font-size: 0.95rem;
      font-weight: 500;
      color: var(--fg, #ffffff);
    }
    .color-input-wrapper {
      position: relative;
    }
    .custom-theme-fields input[type="color"] {
      width: 44px;
      height: 44px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      background: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .custom-theme-fields input[type="color"]:hover {
      border-color: rgba(255, 255, 255, 0.3);
      transform: scale(1.05);
    }
    .save-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #ffffff;
      border: none;
      border-radius: 12px;
      padding: 14px 28px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      position: relative;
      overflow: hidden;
      width: 100%;
    }
    .save-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.6s ease;
    }
    .save-btn:hover::before { left: 100%; }
    .save-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
    }
    .save-btn:active { transform: translateY(0); }

    /* Added for bare/search */
    .input-row { margin-bottom: 18px; }
    .input-row label { font-size: 1rem; font-weight: 500; margin-bottom: 6px; color: var(--fg, #ffffff); display: block; }
    .input-row input[type="text"] {
      width: 100%;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      color: var(--fg, #fff);
      font-size: 1rem;
      margin-top: 3px;
      transition: border 0.2s;
    }
    .input-row input[type="text"]:focus {
      border: 1.5px solid #667eea;
      outline: none;
    }
    .input-row select {
      width: 100%;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      color: var(--fg, #fff);
      font-size: 1rem;
      margin-top: 3px;
      transition: border 0.2s;
      appearance: none;
    }
    .input-row option {
      color: #222;
      background: #fafafa;
    }
    .search-engine-option {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .search-engine-logo {
      width: 20px; height: 20px; object-fit: contain; vertical-align: middle;
      border-radius: 4px;
      background: #fff;
    }
    .add-search-row, .add-bare-row {
      display: flex;
      gap: 10px;
    }
    .add-search-row input[type="text"], .add-bare-row input[type="text"] {
      flex: 1;
    }
    .add-search-btn, .add-bare-btn {
      background: linear-gradient(135deg, #1a73e8 0%, #764ba2 100%);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1rem;
      padding: 8px 16px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .add-search-btn:hover, .add-bare-btn:hover {
      background: linear-gradient(135deg, #764ba2 0%, #1a73e8 100%);
    }
    .bare-switch-label {
      font-size: 1.1rem;
      font-weight: 500;
      color: var(--fg, #fff);
      margin-right: 0.7em;
    }
    .bare-url-list {
      list-style: none;
      padding: 0;
      margin: 0 0 8px 0;
    }
    .bare-url-list li {
      background: rgba(255,255,255,0.07);
      color: var(--fg, #fff);
      border-radius: 8px;
      padding: 6px 12px;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.97rem;
    }
    .bare-url-remove {
      cursor: pointer;
      color: #e74c3c;
      font-size: 1.2em;
      border: none;
      background: none;
      margin-left: 0.8em;
      transition: color 0.2s;
    }
    .bare-url-remove:hover { color: #c0392b; }

    @media (max-width: 768px) {
      .settings-grid { grid-template-columns: 1fr; gap: 24px; }
      .container { padding: 24px 16px; }
      .section { padding: 24px; }
      h1 { font-size: 2rem; margin-bottom: 32px; }
      .theme-buttons { grid-template-columns: 1fr; }
    }
    @media (max-width: 480px) {
      .section { padding: 20px; }
      h1 { font-size: 1.75rem; }
      .theme-btn { padding: 10px 14px; font-size: 0.9rem; }
      .setting-row { flex-direction: column; align-items: flex-start; gap: 12px; }
      .toggle-switch { align-self: flex-end; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Settings</h1>
    <div class="settings-grid">
      <!-- Startup Restore -->
      <form class="section" id="restoreTabsSection" onsubmit="return false;">
        <h2 class="section-title">Startup Behavior</h2>
        <p class="section-desc">Configure how Fusion Tabs behaves when you start your browser.</p>
        <div class="setting-row">
          <div>
            <div style="font-size: 1.1rem; font-weight: 500; margin-bottom: 4px;">Restore Tabs on Startup</div>
            <div style="font-size: 0.9rem; color: rgba(255,255,255,0.6);">Re-opens your tabs from your last session</div>
          </div>
          <label class="toggle-switch">
            <input id="restoreTabsToggle" type="checkbox">
            <span class="slider"></span>
          </label>
        </div>
        <button class="save-btn" onclick="saveRestoreTabs()">Save Changes</button>
      </form>

      <!-- Appearance/Theme -->
      <form class="section" id="themeSection" onsubmit="return false;">
        <h2 class="section-title">Appearance</h2>
        <p class="section-desc">Customize the look and feel of your Fusion Tabs experience.</p>
        <div class="theme-buttons">
          <button type="button" class="theme-btn" id="theme-dark">🌙 Dark</button>
          <button type="button" class="theme-btn" id="theme-light">☀️ Light</button>
          <button type="button" class="theme-btn" id="theme-purple">💜 Purple</button>
          <button type="button" class="theme-btn" id="theme-custom">🎨 Custom</button>
        </div>
        <div id="customThemeFields" class="custom-theme-fields" style="display:none;">
          <div class="color-input-group">
            <label>Background Color</label>
            <div class="color-input-wrapper">
              <input type="color" id="ct-bg" value="#202124">
            </div>
          </div>
          <div class="color-input-group">
            <label>Text Color</label>
            <div class="color-input-wrapper">
              <input type="color" id="ct-fg" value="#e8eaed">
            </div>
          </div>
          <div class="color-input-group">
            <label>Panel Color</label>
            <div class="color-input-wrapper">
              <input type="color" id="ct-section-bg" value="#23242b">
            </div>
          </div>
        </div>
        <button class="save-btn" onclick="saveTheme()">Apply Theme</button>
      </form>

      <!-- Bare Proxy Settings -->
      <form class="section" id="bareSettingsSection" onsubmit="return false;">
        <h2 class="section-title">Bare Proxy</h2>
        <p class="section-desc">Configure custom bare proxy endpoints and toggle usage for outgoing requests.</p>
        <div class="setting-row" style="margin-bottom:14px;">
          <span class="bare-switch-label">Enable Bare Proxy</span>
          <label class="toggle-switch">
            <input id="bareSwitchToggle" type="checkbox">
            <span class="slider"></span>
          </label>
        </div>
        <ul class="bare-url-list" id="bareUrlList"></ul>
        <div class="add-bare-row">
          <input id="bareUrlInput" type="text" placeholder="Add Bare Proxy URL (e.g., https://bare.yoursite.xyz)">
          <button type="button" class="add-bare-btn" onclick="addBareUrl()">Add</button>
        </div>
        <button class="save-btn" onclick="saveBareSettings()" style="margin-top:18px;">Save Bare Settings</button>
      </form>

      <!-- Search Engine Settings -->
      <form class="section" id="searchEngineSection" onsubmit="return false;">
        <h2 class="section-title">Search Engine</h2>
        <p class="section-desc">Choose your search engine or add a custom one.<br>Search logo is shown for each provider.</p>
        <div class="input-row">
          <label for="searchEngineSelect">Default Search Engine</label>
          <select id="searchEngineSelect"></select>
        </div>
        <div class="add-search-row">
          <input id="searchNameInput" type="text" placeholder="Custom Engine Name">
          <input id="searchUrlInput" type="text" placeholder="Custom Engine URL (e.g. https://duckduckgo.com/?q=)">
          <input id="searchLogoInput" type="text" placeholder="Logo URL">
          <button type="button" class="add-search-btn" onclick="addSearchEngine()">Add</button>
        </div>
        <button class="save-btn" onclick="saveSearchEngine()" style="margin-top:18px;">Save Search Engine</button>
      </form>

    </div>
  </div>
  <script>
    // --- Restore Tabs ---
    function saveRestoreTabs() {
      const checked = document.getElementById('restoreTabsToggle').checked;
      localStorage.setItem('restoreTabs', checked ? '1' : '0');
      const btn = event.target;
      const originalText = btn.textContent;
      btn.textContent = '✓ Saved!';
      btn.style.background = 'linear-gradient(135deg, #00C851 0%, #007E33 100%)';
      setTimeout(() => {
        btn.textContent = originalText;
        btn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
      }, 1500);
    }
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('restoreTabsToggle').checked = localStorage.getItem('restoreTabs') === '1';
      loadThemeUI();
      loadBareUI();
      loadSearchEngineUI();
    });

    // --- Theme Switcher ---
    const themes = {
      dark:   { bg: "#0f0f0f", fg: "#ffffff", section_bg: "rgba(255, 255, 255, 0.05)" },
      light:  { bg: "#f8fafc", fg: "#1a202c", section_bg: "rgba(255, 255, 255, 0.8)" },
      purple: { bg: "#1a0b2e", fg: "#edf2f7", section_bg: "rgba(123, 44, 191, 0.1)" }
    };
    function setThemeVars(theme) {
      document.body.style.setProperty("--bg", theme.bg);
      document.body.style.setProperty("--fg", theme.fg);
      document.body.style.setProperty("--section-bg", theme.section_bg);
    }
    function highlightThemeBtn(id) {
      document.querySelectorAll('.theme-btn').forEach(btn => btn.classList.remove('selected'));
      document.getElementById(id).classList.add('selected');
    }
    function loadThemeUI() {
      let theme = localStorage.getItem('theme') || 'dark';
      let customTheme = JSON.parse(localStorage.getItem('customTheme') || '{}');
      if (theme === 'custom' && customTheme.bg && customTheme.fg && customTheme.section_bg) {
        setThemeVars(customTheme);
        highlightThemeBtn('theme-custom');
        document.getElementById('ct-bg').value = customTheme.bg;
        document.getElementById('ct-fg').value = customTheme.fg;
        document.getElementById('ct-section-bg').value = customTheme.section_bg;
        document.getElementById('customThemeFields').style.display = '';
      } else {
        setThemeVars(themes[theme] || themes.dark);
        highlightThemeBtn('theme-' + theme);
        document.getElementById('customThemeFields').style.display = 'none';
      }
    }
    document.getElementById('theme-dark').onclick = function() {
      localStorage.setItem('theme', 'dark');
      setThemeVars(themes.dark);
      highlightThemeBtn('theme-dark');
      document.getElementById('customThemeFields').style.display = 'none';
    };
    document.getElementById('theme-light').onclick = function() {
      localStorage.setItem('theme', 'light');
      setThemeVars(themes.light);
      highlightThemeBtn('theme-light');
      document.getElementById('customThemeFields').style.display = 'none';
    };
    document.getElementById('theme-purple').onclick = function() {
      localStorage.setItem('theme', 'purple');
      setThemeVars(themes.purple);
      highlightThemeBtn('theme-purple');
      document.getElementById('customThemeFields').style.display = 'none';
    };
    document.getElementById('theme-custom').onclick = function() {
      localStorage.setItem('theme', 'custom');
      let custom = JSON.parse(localStorage.getItem('customTheme') || '{}');
      setThemeVars({
        bg: custom.bg || "#202124",
        fg: custom.fg || "#e8eaed",
        section_bg: custom.section_bg || "rgba(255, 255, 255, 0.05)"
      });
      highlightThemeBtn('theme-custom');
      document.getElementById('customThemeFields').style.display = '';
    };
    function saveTheme() {
      let theme = localStorage.getItem('theme') || 'dark';
      const btn = event.target;
      const originalText = btn.textContent;
      if (theme === 'custom') {
        let custom = {
          bg: document.getElementById('ct-bg').value,
          fg: document.getElementById('ct-fg').value,
          section_bg: document.getElementById('ct-section-bg').value
        };
        localStorage.setItem('customTheme', JSON.stringify(custom));
        setThemeVars(custom);
      } else {
        setThemeVars(themes[theme]);
      }
      btn.textContent = '✓ Applied!';
      btn.style.background = 'linear-gradient(135deg, #00C851 0%, #007E33 100%)';
      setTimeout(() => {
        btn.textContent = originalText;
        btn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
      }, 1500);
    }
    document.getElementById('ct-bg').addEventListener('input', function() {
      document.body.style.setProperty("--bg", this.value);
    });
    document.getElementById('ct-fg').addEventListener('input', function() {
      document.body.style.setProperty("--fg", this.value);
    });
    document.getElementById('ct-section-bg').addEventListener('input', function() {
      document.body.style.setProperty("--section-bg", this.value);
    });

    // --- Bare Proxy Settings ---
    function loadBareUI() {
      document.getElementById('bareSwitchToggle').checked = localStorage.getItem('bareEnabled') === '1';
      const bareList = JSON.parse(localStorage.getItem('bareUrls') || '[]');
      renderBareUrlList(bareList);
    }
    function renderBareUrlList(urls) {
      const ul = document.getElementById('bareUrlList');
      ul.innerHTML = '';
      urls.forEach((url, idx) => {
        const li = document.createElement('li');
        li.textContent = url;
        const btn = document.createElement('button');
        btn.className = 'bare-url-remove';
        btn.innerHTML = '✕';
        btn.title = 'Remove';
        btn.onclick = function() {
          const arr = JSON.parse(localStorage.getItem('bareUrls') || '[]');
          arr.splice(idx, 1);
          localStorage.setItem('bareUrls', JSON.stringify(arr));
          renderBareUrlList(arr);
        };
        li.appendChild(btn);
        ul.appendChild(li);
      });
    }
    function addBareUrl() {
      const input = document.getElementById('bareUrlInput');
      let url = input.value.trim();
      if (!/^https?:\/\//i.test(url)) {
        alert("Please enter a valid Bare Proxy URL (must start with http(s)://)");
        return;
      }
      let arr = JSON.parse(localStorage.getItem('bareUrls') || '[]');
      if (arr.includes(url)) {
        alert('URL already added.');
        return;
      }
      arr.push(url);
      localStorage.setItem('bareUrls', JSON.stringify(arr));
      renderBareUrlList(arr);
      input.value = '';
    }
    function saveBareSettings() {
      localStorage.setItem('bareEnabled', document.getElementById('bareSwitchToggle').checked ? '1' : '0');
      const btn = event.target;
      const originalText = btn.textContent;
      btn.textContent = '✓ Saved!';
      btn.style.background = 'linear-gradient(135deg, #00C851 0%, #007E33 100%)';
      setTimeout(() => {
        btn.textContent = originalText;
        btn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
      }, 1500);
    }

    // --- Search Engine Settings ---
    const defaultSearchEngines = [
      {
        name: "Google",
        url: "https://www.google.com/search?q=",
        logo: "https://www.google.com/favicon.ico"
      },
      {
        name: "DuckDuckGo",
        url: "https://duckduckgo.com/?q=",
        logo: "https://duckduckgo.com/favicon.ico"
      },
      {
        name: "Bing",
        url: "https://www.bing.com/search?q=",
        logo: "https://www.bing.com/sa/simg/favicon-2x.ico"
      },
      {
        name: "Brave",
        url: "https://search.brave.com/search?q=",
        logo: "https://search.brave.com/favicon.ico"
      },
      {
        name: "Yahoo",
        url: "https://search.yahoo.com/search?p=",
        logo: "https://s.yimg.com/rz/l/favicon.ico"
      }
    ];
    function getCustomSearchEngines() {
      try { return JSON.parse(localStorage.getItem('customSearchEngines') || "[]"); }
      catch { return []; }
    }
    function setCustomSearchEngines(arr) {
      localStorage.setItem('customSearchEngines', JSON.stringify(arr));
    }
    function getAllEngines() {
      return [...defaultSearchEngines, ...getCustomSearchEngines()];
    }
    function loadSearchEngineUI() {
      const select = document.getElementById('searchEngineSelect');
      select.innerHTML = '';
      const all = getAllEngines();
      let current = localStorage.getItem('searchEngine') || defaultSearchEngines[0].url;
      all.forEach(engine => {
        const opt = document.createElement('option');
        opt.value = engine.url;
        opt.textContent = engine.name;
        opt.setAttribute('data-logo', engine.logo);
        select.appendChild(opt);
      });
      select.value = current;
      // Show logo in dropdown (for most browsers, needs hack)
      select.onchange = function() {
        // Optionally show logo elsewhere, e.g. in a <span id="currentSearchLogo">
      };
    }
    function addSearchEngine() {
      const name = document.getElementById('searchNameInput').value.trim();
      const url = document.getElementById('searchUrlInput').value.trim();
      const logo = document.getElementById('searchLogoInput').value.trim();
      if (!name || !url || !logo) {
        alert("Fill in all fields for custom engine.");
        return;
      }
      if (!url.endsWith('=') && !/\{q\}/.test(url)) {
        alert('Search Engine URL should end with "=" or contain "{q}" for the search term.');
        return;
      }
      let custom = getCustomSearchEngines();
      if (custom.some(e => e.name.toLowerCase() === name.toLowerCase())) {
        alert("Engine name already exists.");
        return;
      }
      custom.push({ name, url, logo });
      setCustomSearchEngines(custom);
      loadSearchEngineUI();
      document.getElementById('searchNameInput').value = '';
      document.getElementById('searchUrlInput').value = '';
      document.getElementById('searchLogoInput').value = '';
    }
    function saveSearchEngine() {
      const select = document.getElementById('searchEngineSelect');
      const url = select.value;
      localStorage.setItem('searchEngine', url);
      const btn = event.target;
      const originalText = btn.textContent;
      btn.textContent = '✓ Saved!';
      btn.style.background = 'linear-gradient(135deg, #00C851 0%, #007E33 100%)';
      setTimeout(() => {
        btn.textContent = originalText;
        btn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
      }, 1500);
    }
  </script>
</body>
</html>
